<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OS Security Simulation</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div id="app">
        <!-- Login View -->
        <section id="login-view" class="view active">
            <div class="login-container">
                <div class="login-header">
                    <div class="logo-icon">
                        <svg width="40" height="40" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 2L2 7L12 12L22 7L12 2Z" stroke="currentColor" stroke-width="2"
                                stroke-linecap="round" stroke-linejoin="round" />
                            <path d="M2 17L12 22L22 17" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round" />
                            <path d="M2 12L12 17L22 12" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round" />
                        </svg>
                    </div>
                    <h1>SysCall Secure</h1>
                    <p>Educational OS Security Environment</p>
                </div>
                <form id="login-form">
                    <div class="input-group">
                        <label for="username">Username</label>
                        <input type="text" id="username" placeholder="e.g. admin" autocomplete="off">
                    </div>
                    <div class="input-group">
                        <label for="password">Password</label>
                        <input type="password" id="password" placeholder="••••••••" autocomplete="off">
                    </div>
                    <button type="submit" class="btn primary full-width">
                        <span>Initialize System</span>
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <path d="M5 12H19M19 12L12 5M19 12L12 19" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round" />
                        </svg>
                    </button>
                    <div id="login-error" class="error-message hidden">
                        Invalid credentials. access_denied
                    </div>
                    <div class="hint-text">
                        Hint: admin / admin123
                    </div>
                </form>
            </div>
        </section>

        <!-- Main Dashboard View -->
        <section id="dashboard-view" class="view hidden">
            <aside class="sidebar">
                <div class="sidebar-header">
                    <div class="logo-icon small">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <path
                                d="M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z"
                                stroke-width="2" />
                            <path d="M2 12H22" stroke-width="2" />
                            <path d="M12 2V22" stroke-width="2" />
                        </svg>
                    </div>
                    <span class="brand-name">SysGuard</span>
                </div>

                <nav class="main-nav">
                    <button class="nav-item active" data-tab="overview">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <rect x="3" y="3" width="7" height="7"></rect>
                            <rect x="14" y="3" width="7" height="7"></rect>
                            <rect x="14" y="14" width="7" height="7"></rect>
                            <rect x="3" y="14" width="7" height="7"></rect>
                        </svg>
                        Overview
                    </button>
                    <button class="nav-item" data-tab="syscalls">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                            <polyline points="14 2 14 8 20 8"></polyline>
                            <line x1="16" y1="13" x2="8" y2="13"></line>
                            <line x1="16" y1="17" x2="8" y2="17"></line>
                            <polyline points="10 9 9 9 8 9"></polyline>
                        </svg>
                        System Calls
                    </button>
                    <button class="nav-item" data-tab="filesystem">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z">
                            </path>
                        </svg>
                        File System
                    </button>
                    <button class="nav-item" data-tab="logs">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                            <polyline points="7 10 12 15 17 10"></polyline>
                            <line x1="12" y1="15" x2="12" y2="3"></line>
                        </svg>
                        Audit Logs
                    </button>
                </nav>

                <div class="user-profile">
                    <div class="avatar">AD</div>
                    <div class="user-info">
                        <span class="user-name">admin</span>
                        <span class="user-role">Superuser (Root)</span>
                    </div>
                    <button id="logout-btn" class="icon-btn" title="Logout">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
                            <polyline points="16 17 21 12 16 7"></polyline>
                            <line x1="21" y1="12" x2="9" y2="12"></line>
                        </svg>
                    </button>
                </div>
            </aside>

            <main class="content-area">
                <!-- Overview Tab -->
                <div id="tab-overview" class="tab-content active">
                    <header class="content-header">
                        <h2>System Overview</h2>
                        <p>Kernel Status: <span class="badge success">Running</span></p>
                    </header>

                    <div class="stat-grid">
                        <div class="stat-card">
                            <h3>System Calls</h3>
                            <div class="value" id="stat-syscall-count">0</div>
                            <div class="label">Total Invocations</div>
                        </div>
                        <div class="stat-card">
                            <h3>Security Alerts</h3>
                            <div class="value danger" id="stat-violations">0</div>
                            <div class="label">Access Denied Events</div>
                        </div>
                        <div class="stat-card">
                            <h3>Processes</h3>
                            <div class="value" id="stat-processes">0</div>
                            <div class="label">Active PIDs</div>
                        </div>
                    </div>

                    <div class="info-panel">
                        <h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                class="icon">
                                <circle cx="12" cy="12" r="10"></circle>
                                <line x1="12" y1="16" x2="12" y2="12"></line>
                                <line x1="12" y1="8" x2="12.01" y2="8"></line>
                            </svg> Educational Context</h3>
                        <p>This simulation runs in User Mode but simulates Kernel Mode operations. When you use the
                            "System Calls" tab, you are making requests to the simulated kernel. The kernel checks your
                            permissions (Authorization) and logs the event (Auditing) before executing the action.</p>
                    </div>
                </div>

                <!-- System Calls Tab -->
                <div id="tab-syscalls" class="tab-content hidden">
                    <header class="content-header">
                        <h2>System Call Interface</h2>
                        <p>Execute kernel commands directly</p>
                    </header>

                    <div class="syscall-layout">
                        <div class="syscall-list">
                            <h3>Available Function Definitions</h3>
                            <ul id="syscall-list-items">
                                <!-- Populated by JS -->
                            </ul>
                        </div>
                        <div class="syscall-executor">
                            <div id="syscall-form-container">
                                <div class="empty-state">Select a system call to configure parameters</div>
                            </div>
                            <div id="syscall-output" class="console-output hidden">
                                <span class="prefix">$</span> <span id="console-cmd">...</span>
                                <div id="console-result"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- File System Tab -->
                <div id="tab-filesystem" class="tab-content hidden">
                    <header class="content-header">
                        <h2>File System Explorer</h2>
                        <p>In-memory virtual file system</p>
                    </header>
                    <div class="fs-browser" id="fs-browser">
                        <!-- Populated by JS -->
                    </div>
                </div>

                <!-- Logs Tab -->
                <div id="tab-logs" class="tab-content hidden">
                    <header class="content-header">
                        <h2>Audit Logs</h2>
                        <div class="actions">
                            <button class="btn secondary small" id="clear-logs-btn">Clear Logs</button>
                        </div>
                    </header>

                    <div class="table-container">
                        <table class="log-table">
                            <thead>
                                <tr>
                                    <th>Timestamp</th>
                                    <th>User</th>
                                    <th>System Call</th>
                                    <th>Params</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody id="audit-log-body">
                                <!-- Populated by JS -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </main>
        </section>
    </div>
    <script src="script.js"></script>
</body>
<!-- fixed name of user after login of standard user(earlier showed admin rather than standard user) -->
</html>